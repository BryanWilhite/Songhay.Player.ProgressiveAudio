var rx;(()=>{"use strict";var t={d:(e,n)=>{for(var r in n)t.o(n,r)&&!t.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:n[r]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r:t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}},e={};t.r(e),t.d(e,{BoleroUtility:()=>o,ProgressiveAudioUtility:()=>l});class n{static animate(t){var e;if(!n.animationId)return;const r=n.registry.get(n.animationId);r&&(r.shouldStopAnimation||(t||(t=window.performance.now()),r.isStartOfAnimation()&&(r.startTime=t,r.previousTime=r.startTime),r.frameId=window.requestAnimationFrame(n.animate),r.currentTime=t,r.delta=r.currentTime-(null!==(e=r.previousTime)&&void 0!==e?e:0),r.delta>r.fpsInterval&&(r.previousTime=r.currentTime-r.delta%r.fpsInterval,r.motionFunction(r),++r.frameCount)))}static cancelAnimation(t){const e=null!=t?t:n.animationId;if(!e)return;const r=n.registry.get(e);r&&r.frameId&&(r.shouldStopAnimation=!0,window.cancelAnimationFrame(r.frameId))}static registerAndGenerate(t,e){const r=new n(t,e),i=n.registry.size+1;return r.id=i,n.animationId=i,n.registry.set(i,r),r}constructor(t,e){0===Math.abs(t)&&(t=1),this.fps=t,this.fpsInterval=1e3/t,this.frameCount=0,this.motionFunction=e,this.delta=null,this.currentTime=null,this.frameId=null,this.id=null,this.previousTime=null,this.shouldStopAnimation=!1,this.startTime=null}getCurrentFps(){const t=this.getElapsedTimeOfAnimation();return t&&this.frameCount?Math.round(1e3/(t/this.frameCount)*100)/100:0}getDiagnosticStatus(){return`elapsed time: ${this.getElapsedTimeOfAnimationInSeconds()} seconds @ ${this.getCurrentFps()} fps`}getElapsedTimeOfAnimation(){return this.currentTime&&this.startTime?this.currentTime-this.startTime:0}getElapsedTimeOfAnimationInSeconds(){return Math.round(this.getElapsedTimeOfAnimation()/1e3*100)/100}isStartOfAnimation(){return!this.startTime&&!this.previousTime}}n.registry=new Map;class r{constructor(t,e,n){this.r=t,this.g=e,this.b=n}}class i{static getChildHtmlElementByQuery(t,e){return t?t.querySelector(e):(console.warn("the expected parent element is not here"),null)}static getChildHtmlElementsByQuery(t,e){return t?t.querySelectorAll(e):(console.warn("the expected parent element is not here"),null)}static getClosestHtmlElementByQuery(t,e){return t?t.closest(e):(console.warn("the expected parent element is not here"),null)}static getHtmlElement(t){const e=t.nativeElement;return e||(console.warn("the expected element is not here"),null)}static getHtmlElements(t){const e=Array.from(t);return e?e.length?e:(console.warn("the expected number of element children is not here"),[]):(console.warn("the expected element children are not here"),[])}static getHtmlHeadingElement(t=0,e=document){if(!e)return null;return 0<t&&t<7?e.createElement(`h${t}`):e.createElement("h2")}static getStyleDeclaration(t){if(!t)return null;const e=t.style;return e||(console.warn("the expected CSS style declaration is not here"),null)}static parseAsHtmlElement(t,e="div"){if(!t)return null;const n=i.parseAsHtmlElements(t,e);return n.length?n[0]:null}static parseAsHtmlElements(t,e){if(!t)return[];const n=(new DOMParser).parseFromString(t,"text/xml").getElementsByTagName(e);return Array.from(n).map((t=>t))}static runWhenElementEvent(t,e,n){n&&t.addEventListener(e,(t=>n(t)))}static runWhenWindowContentLoaded(t){t&&window.addEventListener("DOMContentLoaded",(e=>t(e)))}static timeout(t){return new Promise((e=>setTimeout(e,t)))}}class o{}o.css=class{static getColorHex(t){return t?t.replace("0x","#").toLowerCase():null}static getColorRgb(t){return t?`${t.r}, ${t.g}, ${t.b}`:null}static getComputedStylePropertyValue(t,e){if(!t)return null;if(!e)return null;return window.getComputedStyle(t).getPropertyValue(e)}static getComputedStylePropertyValueById(t,e){if(!t)return null;if(!e)return null;const n=window.document.getElementById(t);if(!n)return null;return window.getComputedStyle(n).getPropertyValue(e)}static getComputedStylePropertyValueByQuery(t,e){if(!t)return null;if(!e)return null;const n=window.document.querySelector(t);if(!n)return null;return window.getComputedStyle(n).getPropertyValue(e)}static getOpacity(t){return parseInt(t,10)/100}static getPixelValue(t){return`${t}px`}static getRgbFromHex(t){if(!t)return null;t=t.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,((t,e,n)=>t+t+e+e+n+n));const e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return e?new r(parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)):null}static getTintedBackground(t){if(!t)return null;const e=this.getColorHex(t.backgroundColor),n=this.getColorRgb(this.getRgbFromHex(e)),r=t.alpha;return`linear-gradient(rgba(${n}, ${r}), rgba(${n}, ${r})), ${this.getUri(t.backgroundImageUri)}`}static getUri(t){return`url('${t}')`}static setComputedStylePropertyValue(t,e,n){t&&e&&n&&t.style.setProperty(e,n)}},o.dom=i;function a(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{s(r.next(t))}catch(t){o(t)}}function l(t){try{s(r.throw(t))}catch(t){o(t)}}function s(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,l)}s((r=r.apply(t,e||[])).next())}))}Object.create;Object.create;"function"==typeof SuppressedError&&SuppressedError;class l{static handleAudioMetadataLoadedAsync(t,e){return a(this,void 0,void 0,(function*(){yield l.invokeDotNetMethodAsync(t,e)}))}static invokeDotNetMethodAsync(t,e){var r;return a(this,void 0,void 0,(function*(){let i=null;try{i={animationStatus:null===(r=l.playAnimation)||void 0===r?void 0:r.getDiagnosticStatus(),audioCurrentTime:null==e?void 0:e.currentTime,audioDuration:null==e?void 0:e.duration,audioReadyState:null==e?void 0:e.readyState,isAudioPaused:null==e?void 0:e.paused},yield null==t?void 0:t.invokeMethodAsync("animateAsync",i)}catch(e){console.error({error:e,instance:t,data:i}),n.cancelAnimation()}}))}static loadAudioTrack(t,e){null==t||t.setAttribute("src",e),null==t||t.load()}static setAudioCurrentTime(t,e){e&&t&&(e.currentTime=parseFloat(t.value))}static startPlayAnimation(t,e){l.playAnimation=n.registerAndGenerate(1,(n=>a(this,void 0,void 0,(function*(){if(null==e?void 0:e.ended)return e.currentTime=0,void(yield l.stopPlayAnimationAsync(t,e));yield l.invokeDotNetMethodAsync(t,e)})))),n.animate()}static stopPlayAnimationAsync(t,e){var r,i;return a(this,void 0,void 0,(function*(){e&&e.readyState>0&&!e.paused&&e.pause(),yield l.invokeDotNetMethodAsync(t,e),n.cancelAnimation(null!==(i=null===(r=l.playAnimation)||void 0===r?void 0:r.id)&&void 0!==i?i:void 0)}))}}l.playAnimation=null,rx=e})();